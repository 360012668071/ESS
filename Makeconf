####======= Common Declarations for *all* ESS -*- Makefile -*- s ==========

# Specify either PREFIX or DESTDIR, whatever suits you
DESTDIR=/usr/local
PREFIX=$(DESTDIR)

# Bourne shell or XPG4 compliant shell
SHELL = /bin/sh

## emacs variant that you are installing ESS for.
##
## emacs
EMACS=emacs
## xemacs and its "standard" install location
#EMACS=xemacs

EMACSBATCH = $(EMACS) -batch -no-site-file -no-init-file

# Destination of your info files
INFODIR =$(PREFIX)/info

# Destination of your byte-compiled elisp (.elc) files
# Emacs
LISPDIR =$(PREFIX)/share/emacs/site-lisp
# XEmacs
#LISPDIR = $(PREFIX)/lib/xemacs/xemacs-packages/lisp/ess

## two install commands are needed; one to create directories,
## if necessary, and another to copy the files
#  to create directories
INSTALLDIR = install -d
#INSTALLDIR = mkdir -p

## file copying commands expect source-file target-directory
#  to copy the files
INSTALL = cp -p
#INSTALL = install

## the sed that you want to use
SED = sed

# What GZCAT is called on your system (GNU gzip "cat")
#GZCAT = gzcat
GZCAT = zcat

# program to convert .texi{nfo} to .info, .txt, and .html
MAKEINFO = LANG=C makeinfo
MAKETXT = $(MAKEINFO) --no-validate --no-headers --no-split -o -
MAKEHTML = $(MAKEINFO) --html --no-split
##                            ^^^^^^^^^^ today's bandwidth is fast

## Set ESSVERSION to the contents of VERSION
## This will only work with GNU make, but you won't
## need to change this unless you are an ESS developer.
## If you don't have GNU make, edit this file; for example:
## ESSVERSION=5.2.0
ESSVERSION=$(shell cat ./VERSION 2> /dev/null || cat ../VERSION)
ESSDIR=ess-$(ESSVERSION)

## Set ESSVERSIONTAG to ESS-$(ESSVERSION) with .'s replaced by -s.
## CVS tags can NOT contain .'s.
## This will only work with GNU make, but you won't
## need to change this unless you are an ESS developer.
## If you don't have GNU make, use the command line; for example:
## make tag ESSVERSION=5.2.0 ESSVERSIONTAG=ESS-5-2-0
ESSVERSIONTAG=ESS-$(shell sed 's/\./-/g' VERSION)

SVN_URL = https://svn.R-project.org/ESS

UPLOAD_DIR = /u/maechler/emacs/ess-WWW/downloads/ess


.SUFFIXES: .i3 .m3 .nw .tex .dvi .html .c .h .el .elc
