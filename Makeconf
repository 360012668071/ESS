####======= Common Declarations for *all* ESS Makefiles ==========

# Specify either PREFIX or DESTDIR, whatever suits you
DESTDIR=/usr/local
PREFIX=$(DESTDIR)

# Bourne shell or XPG4 compliant shell
SHELL = /bin/sh

## emacs variant that you are installing ESS for
##
## GNU Emacs
EMACS=emacs
LISPDIR=$(PREFIX)/share/emacs/site-lisp # Destination of compiled elisp (.elc) files
INFODIR=$(PREFIX)/info                  # Destination of info files
ETCDIR =$(PREFIX)/share/emacs/etc/ess   # Destination of scripts and icon files
## XEmacs 
#EMACS=xemacs
#LISPDIR=$(PREFIX)/lib/xemacs/xemacs-packages/lisp/ess # Destination of compiled elisp (.elc) files
#INFODIR=$(PREFIX)/lib/xemacs/xemacs-packages/info/ess # Destination of info files
#ETCDIR =$(PREFIX)/lib/xemacs/xemacs-packages/etc/ess  # Destination of scripts and icon files

## the following command is the same for recent versions of both Emacs and XEmacs
EMACSBATCH = $(EMACS) -batch -no-site-file -no-init-file

## two install commands are needed; one to create directories,
## if necessary, and another to copy the files
#  to create directories
INSTALLDIR = install -d
#INSTALLDIR = mkdir -p

## file copying commands expect two arguments: first, source-file, and second, target-directory
#  to copy the files
INSTALL = cp -p
#INSTALL = install

## the sed that you want to use
SED = sed

# program to convert .texi{nfo} to .info, .txt, and .html
MAKEINFO = LANG=C makeinfo
MAKETXT = $(MAKEINFO) --no-validate --no-headers --no-split -o -
MAKEHTML = $(MAKEINFO) --html --no-split
##                            ^^^^^^^^^^ today's bandwidth is fast

## Set ESSVERSION to the contents of VERSION
## This will only work with GNU make, but you won't
## need to change this unless you are an ESS developer.
## If you don't have GNU make, edit this file; for example:
## ESSVERSION=5.2.0
ESSVERSION=$(shell cat ./VERSION 2> /dev/null || cat ../VERSION)
ESSDIR=ess-$(ESSVERSION)

## Set ESSVERSIONTAG to ESS-$(ESSVERSION) with .'s replaced by -s.
## CVS tags can NOT contain .'s.
## This will only work with GNU make, but you won't
## need to change this unless you are an ESS developer.
## If you don't have GNU make, use the command line; for example:
## make tag ESSVERSION=5.2.0 ESSVERSIONTAG=ESS-5-2-0
ESSVERSIONTAG=ESS-$(shell sed 's/\./-/g' VERSION)

SVN_URL = https://svn.R-project.org/ESS

UPLOAD_DIR = /u/maechler/emacs/ess-WWW/downloads/ess


.SUFFIXES: .i3 .m3 .nw .tex .dvi .html .c .h .el .elc
