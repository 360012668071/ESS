<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on July, 30 2004 by texi2html 1.70 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>ESS -- Emacs Speaks Statistics: E. Help for BUGS</title>

<meta name="description" content="ESS -- Emacs Speaks Statistics: E. Help for BUGS">
<meta name="keywords" content="ESS -- Emacs Speaks Statistics: E. Help for BUGS">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.70">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="NOD36"></a>
<a name="SEC36"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="ess_5.html#SEC35" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess_5.html#SEC26" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ess_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ess_14.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ess_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> E. Help for BUGS </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC37">E.1 ESS[BUGS]-Model files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC38">E.2 ESS[BUGS]-Command files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC39">E.3 ESS[BUGS]-Log files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>ESS[BUGS] was designed for use with BUGS software.  It was developed by
Rodney A. Sparapani and has some similarities with ESS[SAS].
ESS facilitates BUGS batch with ESS[BUGS], the mode for files with the .bug 
extension.  ESS provides 5 features.  First, BUGS syntax is described to allow 
for proper fontification of statements, distributions, functions, commands and
comments in BUGS model files, command files and log files.  Second,
ESS creates templates for the command file from the model file so that
a BUGS batch process can be defined by a single file.  Third, ESS
provides a BUGS batch script that allows ESS to set BUGS batch
parameters.  Fourth, key sequences are defined to create a command
file and submit a BUGS batch process.  Lastly, interactive submission of BUGS
commands is also supported.

</p><hr size="6">
<a name="NOD37"></a>
<a name="SEC37"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC36" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC38" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ess_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ess_14.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ess_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> E.1 ESS[BUGS]-Model files </h2>

<p>Model files (with the .bug extension) are edited in ESS[BUGS] mode.  Two keys 
are bound for your use in ESS[BUGS], F2 and F12.  F2 performs the same action 
as it does in ESS[SAS], See section <a href="ess_5.html#SEC31">ESS[SAS]-Function keys for batch processing</a>.
F12 performs the function
ess-bugs-next-action which you will use a lot.  Pressing F12 in an empty buffer
for a model file will produce a template for you.  

</p><p>ESS[BUGS] supports &quot;replacement&quot; variables.  These variables are created as
part of the template, i.e. with the first press of F12 in an empty buffer.  
They are named by
all capitals and start with '%':  %N, %DATA, %INIT, %MONITOR and %STATS.
When you are finished editing your model file, pressing F12 will perform the
necessary replacements and build your command file for you.  

</p><p>The %DATA variable appears in
the line 'data  in &quot;%DATA&quot;;'.  On the second press of F12, %DATA will be 
replaced by the model file name except it will have the .dat extension.  If
your data file is named something else, then change %DATA in the template to
the appropriate file name and no replacement will occur.

</p><p>The %INIT variable appears in 
the line 'inits in &quot;%INIT&quot;;'.  On the second press of F12, %INIT will be 
replaced by the model file name except it will have the .in extension.  If 
your model will be generating it's own initial values, place a comment 
character, #, at the beginning of the line.  Or, if your
init file is named something else, then change %INIT in the template to the
appropriate file name.  

</p><p>The %N variable appears in the line 'const N = 0;#%N'.  Although it is commented,
it is still active.  Notice that later on in the template you have the line
'for (i in 1:N)'.  The BUGS constant N is the number of rows in
your data file.  When you press F12, the data file is read and the number of
lines are counted (after %DATA is resolved, if necessary).  The number of
lines replace the zero in the 'const N = 0' statement.  

</p><p>The %MONITOR variable appears on a line by itself.  Although it is commented,
it is still active.  This line is a list of variables that you want monitored.
When you press F12, the appropriate statements are created in
the command file to monitor the list of variables.  If the line is blank, then
the list is populated with the variables from the 'var' statement.

</p><p>The %STATS variable is similar to the %MONITOR variable.  It is a list of
variables for which summary statistics will be calculated.  When you press
F12, the appropriate statements will be generated in your command file.

</p><p>Please note that the %DATA and %INIT variables are only replaced on the second 
press of F12, but the actions for %N, %MONITOR and %STATS are performed on
each press of F12 if you re-visit the model file.

</p><hr size="6">
<a name="NOD38"></a>
<a name="SEC38"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC37" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC39" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ess_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ess_14.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ess_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> E.2 ESS[BUGS]-Command files </h2>

<p>To avoid extension name collision, .bmd is used for BUGS command files.  When
you have finished editing your model file and press F12, a command file is 
created if one does not already exist.  However, the command file was
created, it recognizes two &quot;replacement&quot; variables:  %MONITOR and %STATS.  

</p><p>Two %MONITOR variables appears on lines by themselves.  Although they are
commented, they are still active.  Between them appears the necessary 
statements to monitor the list of variables specified in the model file.  The
behavior of the %STATS variable is similar.

</p><p>When you are finished editing your command file, pressing F12 again will submit
your command file as a batch job.  Batch scripts are provided for both DOS and
Unix in the etc sub-directory of the ESS distribution.  The DOS script is 
called &quot;BACKBUGS.BAT&quot; and the Unix script is &quot;backbugs&quot;.  These scripts allow
you to change the number of bins to use in the Griddy algorithm 
(Metropolis sampling).  That is handled by the variable ess-bugs-default-bins 
which defaults to 32.

</p><hr size="6">
<a name="NOD39"></a>
<a name="SEC39"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC38" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ess_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ess_14.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ess_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> E.3 ESS[BUGS]-Log files </h2>

<p>To avoid extension name collision, .bog is used for BUGS log files.  The BUGS
batch script provided with ESS creates the .bog file from the .log file when
the batch process completes.  If you need to look at the .log file while 
the batch process is running, it will not appear in ESS[BUGS] mode unless
you modify the auto-mode-alist variable.  If you have done so, then you
may find F2 useful to refresh the .log if the batch process over-writes or
appends it.

</p>
<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ess_7.html#SEC40" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ess.html#SEC1" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ess_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ess_14.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ess_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Rodney Sparapani</em> on <em>July, 30 2004</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.70</em></a>.
 </font>
 <br>

</p>
</body>
</html>
