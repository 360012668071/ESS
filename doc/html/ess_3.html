<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from ess.texi on 21 October 2002 -->

<TITLE>ESS -- Emacs Speaks Statistics - Starting the ESS process</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="ess_1.html">first</A>, <A HREF="ess_2.html">previous</A>, <A HREF="ess_4.html">next</A>, <A HREF="ess_17.html">last</A> section, <A HREF="ess_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC12" HREF="ess_toc.html#TOC12">Starting the <B>ESS</B> process</A></H1>
<P>
<A NAME="IDX26"></A>
<A NAME="IDX27"></A>


<P>
To start an <B>S</B> session, simply type <KBD>M-x S RET</KBD>, i.e. press
<KBD>ESC</KBD>, then <KBD>x</KBD>, then capital <KBD>S</KBD> and then the <KBD>RETURN</KBD>
key.
<A NAME="IDX28"></A>


<P>
<A NAME="IDX29"></A>
<A NAME="IDX30"></A>
<A NAME="IDX31"></A>
<A NAME="IDX32"></A>


<P>
S will then (by default) ask the question

<PRE>
S starting data directory?
</PRE>

<P>
Enter the name of the directory you wish to start <B>S</B> from (that is,
the directory you would have <CODE>cd</CODE>'d to before starting <B>S</B> from
the shell).  This directory should have a <TT>`.Data'</TT> subdirectory.


<P>
You will then be popped into a buffer
<A NAME="IDX33"></A>
<A NAME="IDX34"></A>
with name <SAMP>`*S*'</SAMP> which will be used
for interacting with the <B>ESS</B> process, and you can start entering commands.



<UL>
<LI><A HREF="ess_3.html#SEC13">Multiple ESS processes</A>
<LI><A HREF="ess_3.html#SEC14">ESS processes on Remote Computers</A>
<LI><A HREF="ess_3.html#SEC16">Customizing startup</A>: Changing the startup actions
</UL>



<H2><A NAME="SEC13" HREF="ess_toc.html#TOC13">Running more than one <B>ESS</B> process</A></H2>
<P>
<A NAME="IDX35"></A>


<P>
ESS allows you to run more than one <B>ESS</B> process simultaneously in the
same session.  Each process has a name and a number; the initial process
<A NAME="IDX36"></A>
(process 1) is simply named (using S-PLUS as an example) <SAMP>`S+3:1'</SAMP>.
The name of the process is shown in the mode line in square brackets
(for example, <SAMP>`[S+3:2]'</SAMP>); this is useful if the process buffer is
renamed.  Without a prefix argument, <KBD>M-x S</KBD> starts a new <B>ESS</B>
process, using the first available process number.  With a prefix
argument (for R), <KBD>C-u M-x R</KBD> allows for the specification of
command line options for the size of memory allocated to the R process,
for example.


<P>
<A NAME="IDX37"></A>
You can switch to any active <B>ESS</B> process with the command <KBD>C-c
C-k</KBD> (<CODE>ess-request-a-process</CODE>).  Just enter the name of the process
you require; completion is provided over the names of all running S
processes.  This is a good command to consider binding to a global key.


<P>
<A NAME="IDX38"></A>
For the predecessor to ESS (S-mode 4.8), the initial process was not
visibly numbered, i.e. S instead of S1 was used in the mode-line.  To
obtain this behavior, set the variable <CODE>ess-plain-first-buffername</CODE>
to <CODE>t</CODE>.  See <TT>`ess-site'</TT> for how to set this for all users.




<H2><A NAME="SEC14" HREF="ess_toc.html#TOC14">ESS processes on Remote Computers</A></H2>
<P>
<A NAME="IDX39"></A>
<A NAME="IDX40"></A>
<A NAME="IDX41"></A>
<A NAME="IDX42"></A>


<P>
ESS works with processes on remote computers as easily as with
processes on the local machine.  The recommended way to access a
statistical program on remote computer is to start it from a telnet or
ssh buffer and then connect ESS to that buffer.



<OL>
<LI>Start a new telnet or ssh buffer and connect to the remote computer.

<LI>Start the ESS process on the remote machine, for example with one of

the commands <SAMP>`Splus'</SAMP>, or <SAMP>`R'</SAMP>, or <SAMP>`sas -stdio'</SAMP>.

<LI>Enter the ESS command <SAMP>`M-x ess-remote'</SAMP>.  You will be prompted for

a program name.  Enter <SAMP>`sp6'</SAMP> or <SAMP>`r'</SAMP> or <SAMP>`sas'</SAMP> or another
valid name.  Your telnet process is now known to ESS.  All the usual
ESS commands (<SAMP>`C-c C-n'</SAMP> and its relatives) now work with the S
language processes.  For SAS you need to use a different command
<SAMP>`C-c i'</SAMP> (that is a regular <SAMP>`i'</SAMP>, not a <SAMP>`C-i'</SAMP>) to send
lines from your <TT>`myfile.sas'</TT> to the remote SAS process.
<SAMP>`C-c i'</SAMP> sends lines over invisibly and lets SAS display them
formatted correctly as in a SAS log file.

<LI>Graphics (interactive) on the remote machine.  If you run X11

(See section <A HREF="ess_11.html#SEC70">Using ESS with windowing devices</A>, X-windows)
on both the local and remote machines then you should be able to
display the graphs locally by setting the <SAMP>`DISPLAY'</SAMP> environment
variable appropriately.  Windows users can download <SAMP>`xfree86'</SAMP>
from cygwin.

<LI>Graphics (static) on the remote machine.

If you don't run X-windows on the local machine, then you can write
graphics to a file on the remote machine, and display the file in
a graphics viewer on the local machine.  Most statistical software can
write one or more of postscript, GIF, or JPEG files.
Depending on the versions of emacs and the operating system that you
are running, emacs itself may display <SAMP>`.gif'</SAMP> and <SAMP>`.jpg'</SAMP>
files.  Otherwise, a graphics file viewer will be needed.
Ghostscript/ghostview may be downloaded to display <SAMP>`.ps'</SAMP> and
<SAMP>`.eps'</SAMP> files.  Viewers for GIF and JPEG are usually included with
operating systems.  See section <A HREF="ess_5.html#SEC30">ESS[SAS]--Function keys for batch processing</A>,
for more information on using the F12 key for displaying graphics files
with SAS.
</OL>

<P>
Should you or a colleague inadvertently start a statistical process in
an ordinary <SAMP>`*shell*'</SAMP> buffer, the <SAMP>`ess-remote'</SAMP> command can
be used to convert it to an ESS buffer and allow you to use the ESS
commands with it.


<P>
We have two older commands, now deprecated, for accessing ESS processes
on remote computers.
See section <A HREF="ess_3.html#SEC15">S+elsewhere and ess-elsewhere</A>.




<H2><A NAME="SEC15" HREF="ess_toc.html#TOC15">S+elsewhere and ess-elsewhere</A></H2>

<P>
These commands are now deprecated.  We recommend <SAMP>`ess-remote'</SAMP>.


<P>
We have two versions of the elsewhere function.


<P>
<SAMP>`S+elsewhere'</SAMP> is specific for the S-Plus program.
The more general function <SAMP>`ess-elsewhere'</SAMP> is not as stable.



<OL>
<LI>Enter <SAMP>`M-x S+elsewhere'</SAMP>.

You will be prompted for a starting directory.  I usually give it my
project directory on the local machine, say  <SAMP>`~myname/myproject/'</SAMP>

Or enter <SAMP>`M-x ess-elsewhere'</SAMP>.  You will be prompted for an ESS
program and for a starting directory.  I usually give it my project
directory on the local machine, say <SAMP>`~myname/myproject/'</SAMP>

<LI>The <SAMP>`*S+3*'</SAMP> buffer will appear with a prompt from the

local operating system (the unix prompt on a unix workstation or with
cygwin bash on a PC, or the msdos prompt on a PC without bash).  emacs
may freeze because the cursor is at the wrong place.  Unfreeze it with
<SAMP>`C-g'</SAMP> then move the cursor to the end with <SAMP>`M-&#62;'</SAMP>.
With <SAMP>`S+elsewhere'</SAMP> the buffer name is based on the name of the ESS program.
<LI>Enter

<SAMP>`telnet myname@other.machine'</SAMP> (or <SAMP>`ssh myname@other.machine'</SAMP>).
You will be prompted for your password on the remote machine.
Use
<SAMP>`M-x send-invisible'</SAMP>
before typing the password itself.

<LI>Before starting the ESS process, type <SAMP>`stty -echo nl'</SAMP>

at the unix prompt.  The <SAMP>`-echo'</SAMP> turns off the echo, the
<SAMP>`nl'</SAMP> turns off the newline that you see as <SAMP>`^M'</SAMP>.

<LI>You are now talking to the unix prompt on the other machine in the

<SAMP>`*S+3*'</SAMP> buffer.  cd into the directory for the current project and start
the ESS process by entering
<SAMP>`Splus'</SAMP> or <SAMP>`R'</SAMP> or <SAMP>`sas -stdio'</SAMP>
as appropriate.  If you can login remotely to your Windows 2000, then
you should be able to run <SAMP>`Sqpe'</SAMP> on the Windows machine.  I haven't
tested this and noone has reported their tests to me.  You will not be
able to run the GUI through this text-only connection.

<LI>Once you get the S or R or SAS prompt, then you are completely connected.

All the <SAMP>`C-c C-n'</SAMP> and related commands work correctly in sending
commands from <SAMP>`myfile.s'</SAMP> or <SAMP>`myfile.r'</SAMP> on the PC to the
<SAMP>`*S+3*'</SAMP> buffer running the S or R or SAS program on the remote machine.

<LI>Graphics on the remote machine works fine.  If you run X-windows

graphics on the remote unix machine you should be able to display them
in <SAMP>`xfree86'</SAMP> on your PC.  If you don't run X-windows, then you can write
graphics to the postscript device and copy it to your PC with dired
and display it with ghostscript.
</OL>



<H2><A NAME="SEC16" HREF="ess_toc.html#TOC16">Changing the startup actions</A></H2>

<P>
If you do not wish ESS to prompt for a starting directory when starting
a new process, set the variable <CODE>ess-ask-for-ess-directory</CODE> to
<A NAME="IDX43"></A>
<CODE>nil</CODE>.  In this case, the value of the variable <CODE>ess-directory</CODE>
<A NAME="IDX44"></A>
is used as the starting directory.  The default value for this variable
is your home directory.  If <CODE>ess-ask-for-ess-directory</CODE> has a
non-<CODE>nil</CODE> value (as it does by default) then the value of
<CODE>ess-directory</CODE> provides the default when prompting for the
starting directory.  Incidentally, <CODE>ess-directory</CODE> is an ideal
variable to set in <CODE>ess-pre-run-hook</CODE>.


<P>
If you like to keep a records of your <B>S</B> sessions, set the variable
<CODE>ess-ask-about-transfile</CODE> to <CODE>t</CODE>, and you will be asked for a
filename for the transcript before the <B>ESS</B> process starts.


<P>
<DL>
<DT><U>User Option:</U> <B>ess-ask-about-transfile</B>
<DD><A NAME="IDX45"></A>
If non-<CODE>nil</CODE>, as for a file name in which to save the session
transcript.
</DL>


<P>
<A NAME="IDX46"></A>
Enter the name of a file in which to save the transcript at the prompt.
If the file doesn't exist it will be created (and you should give it a
file name ending in <SAMP>`.St'</SAMP>; if the file already exists the
transcript will be appended to the file.  (Note: if you don't set this
variable but you still want to save the transcript, you can still do it
later -- see section <A HREF="ess_7.html#SEC47">Keeping a record of your <B>S</B> session</A>.)


<P>
Once these questions are answered (if they are asked at all) the S
process itself is started by calling the program name specified in the
variable <CODE>inferior-ess-program</CODE>.
<A NAME="IDX47"></A>
If you need to pass any arguments to this program, they may be specified
in the variable <CODE>inferior-<VAR>S_program_name</VAR>-args</CODE> (e.g. if
<CODE>inferior-ess-program</CODE> is <CODE>"S+"</CODE> then the variable to set is
<CODE>inferior-S+-args</CODE>.
<A NAME="IDX48"></A>
It is not normally necessary to pass arguments to the <B>S</B> program; in
particular do not pass the <SAMP>`-e'</SAMP> option to <CODE>Splus</CODE>, since ESS
provides its own command history mechanism.


<P><HR><P>
Go to the <A HREF="ess_1.html">first</A>, <A HREF="ess_2.html">previous</A>, <A HREF="ess_4.html">next</A>, <A HREF="ess_17.html">last</A> section, <A HREF="ess_toc.html">table of contents</A>.
</BODY>
</HTML>
