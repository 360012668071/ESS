<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from ess.texi on 5 August 2002 -->

<TITLE>ESS -- Emacs Speaks Statistics - Customizing ESS</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="ess_1.html">first</A>, <A HREF="ess_11.html">previous</A>, <A HREF="ess_13.html">next</A>, <A HREF="ess_16.html">last</A> section, <A HREF="ess_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC72" HREF="ess_toc.html#TOC72">Customizing ESS</A></H1>
<P>
<A NAME="IDX223"></A>


<P>
ESS can be easily customized to your taste simply by including the
appropriate lines in your <TT>`.emacs'</TT> file.  There are numerous
variables which affect the behavior of ESS in certain situations which
can be modified to your liking.  Keybindings may be set or changed to
your preferences, and for per-buffer customizations hooks are also
available.



<UL>
<LI><A HREF="ess_12.html#SEC73">Variables</A>: Variables for customization
<LI><A HREF="ess_12.html#SEC78">Hooks</A>: Customizing ESS with hooks
<LI><A HREF="ess_12.html#SEC79">Keybindings</A>: Changing the default ESS keybindings
</UL>



<H2><A NAME="SEC73" HREF="ess_toc.html#TOC73">Variables for customization</A></H2>
<P>
<A NAME="IDX224"></A>


<P>
ESS is easily customizable by means of setting variables in your
<TT>`.emacs'</TT> file.
<A NAME="IDX225"></A>
In most cases, you can change defaults by including lines of the form
<A NAME="IDX226"></A>

<PRE>
(setq <VAR>variable-name</VAR> <VAR>value</VAR>)
</PRE>

<P>
in your <TT>`.emacs'</TT>.


<P>
In what follows, variable names will be listed along with their
descriptions and default values.  Just substitute the variable name and
the new value into the template above.



<UL>
<LI><A HREF="ess_12.html#SEC74">Variables for starting ESS</A>: Variables for starting ESS
<LI><A HREF="ess_12.html#SEC75">Dump file variables</A>: Variables for dump files
<LI><A HREF="ess_12.html#SEC76">Indentation variables</A>: Variables controlling indentation
<LI><A HREF="ess_12.html#SEC77">Variables controlling interaction</A>: Variables controlling interaction
					with the <B>ESS</B> process
</UL>



<H3><A NAME="SEC74" HREF="ess_toc.html#TOC74">Variables for starting ESS</A></H3>

<P>
<DL>
<DT><U>User Option:</U> <B>ess-ask-for-ess-directory</B>
<DD><A NAME="IDX227"></A>
Default: <CODE>t</CODE> <BR>
<A NAME="IDX228"></A>
<A NAME="IDX229"></A>
If this variable has a non-<CODE>nil</CODE> value, then every time ESS is
run with <KBD>M-x S</KBD>
<A NAME="IDX230"></A>
you will be prompted for a directory to use as the working directory for
your <B>S</B> session; this directory should have a <TT>`.Data'</TT>
subdirectory.
<A NAME="IDX231"></A>
If the value of <CODE>ess-ask-for-ess-directory</CODE> is <CODE>nil</CODE>, the
value of <CODE>S-directory</CODE>
<A NAME="IDX232"></A>
is used as the working directory.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>S-directory</B>
<DD><A NAME="IDX233"></A>
Default: Your home directory <BR> The working directory for your <B>S</B>
session if <CODE>ess-ask-for-ess-directory</CODE> is <CODE>nil</CODE>, and the
default when prompting for a directory if it is not.  For example, you
may wish to set this to the value of the current buffer's working
directory before starting <B>S</B> by adding the following line to your
<TT>`.emacs'</TT> file (see section <A HREF="ess_12.html#SEC78">Customizing ESS with hooks</A>)
<A NAME="IDX234"></A>

<PRE>
(setq ess-pre-run-hook
   '((lambda () (setq S-directory default-directory))))
</PRE>

</DL>

<P>
<DL>
<DT><U>User Option:</U> <B>ess-ask-about-display</B>
<DD><A NAME="IDX235"></A>
Default: <CODE>nil</CODE> <BR>
If this variable has a non-<CODE>nil</CODE> value, then every time ESS is
run with <KBD>M-x S</KBD>
<A NAME="IDX236"></A>
you will be asked for a value for the <CODE>DISPLAY</CODE> environment
variable
<A NAME="IDX237"></A>
<A NAME="IDX238"></A>
to be used in the current <B>S</B> session.  If this variable is not set
correctly, <B>S</B> will not be able to create any windows under the X
windowing environment.
<A NAME="IDX239"></A>
Completion is provided over the <CODE>X-displays-list</CODE> variable; the
default is the current value of <CODE>DISPLAY</CODE>.  This feature is useful
is you often run <B>S</B> on a different display than that of the machine you
are running <B>S</B> from.  If
<CODE>ess-ask-about-display</CODE> is <CODE>nil</CODE>, the current value of
<CODE>DISPLAY</CODE> is used.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>X-displays-list</B>
<DD><A NAME="IDX240"></A>
Default: <CODE>'(":0.0")</CODE> <BR>
List of possible values for the <CODE>DISPLAY</CODE> environment variable,
provided for completion when prompting for such a value.
</DL>




<H3><A NAME="SEC75" HREF="ess_toc.html#TOC75">Variables for dump files</A></H3>

<P>
<DL>
<DT><U>User Option:</U> <B>ess-insert-function-templates</B>
<DD><A NAME="IDX241"></A>
Default: <CODE>t</CODE> <BR> If this variable has a non-<CODE>nil</CODE> value, then
dumping a non-existent object will result in the edit buffer containing
a skeleton function definition, ready for editing.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-source-directory</B>
<DD><A NAME="IDX242"></A>
Default: <CODE>"/tmp/"</CODE> <BR>
<A NAME="IDX243"></A>
Directory name (ending in <SAMP>`/'</SAMP>) in which dump files are placed.  This
should always be a writable directory.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-source-directory-generator</B>
<DD><A NAME="IDX244"></A>
Default: <CODE>nil</CODE> <BR>
Alternative, dynamic method of specifying the directory for dump files.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-dump-filename-template</B>
<DD><A NAME="IDX245"></A>
Default: <VAR>user_name</VAR><CODE>.</CODE><VAR>object_name</VAR><CODE>.S</CODE> <BR>
Naming system to use for dumped object files.  See section <A HREF="ess_7.html#SEC57">Names and locations of dump files</A>,
for details of this and the previous two variables.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-keep-dump-files</B>
<DD><A NAME="IDX246"></A>
Default: <CODE>nil</CODE> <BR>
Boolean flag signifying whether to keep dump files or to delete them
after each use.  See section <A HREF="ess_7.html#SEC56">Maintaining <B>S</B> source files</A>, for more details.
</DL>




<H3><A NAME="SEC76" HREF="ess_toc.html#TOC76">Variables controlling indentation</A></H3>
<P>
<A NAME="IDX247"></A>
<A NAME="IDX248"></A>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-tab-always-indent</B>
<DD><A NAME="IDX249"></A>
Default: <CODE>t</CODE> <BR>
If non-<CODE>nil</CODE>, then <KBD>TAB</KBD> in the edit buffer always indents the
current line, regardless of the position of point in the line.
Otherwise, indentation is only performed if point is in the lines
indentation, and a tab character is inserted is point is after the first
nonblank character.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-auto-newline</B>
<DD><A NAME="IDX250"></A>
Default: <CODE>nil</CODE> <BR>
Non-<CODE>nil</CODE> means automatically newline before and after braces
inserted in <B>S</B> code.
</DL>


<P>
The following variables control amounts of indentation.  These variables
automatically become buffer-local in any ESS buffer, and so setting
any of these variables has effect in the current buffer only.


<P>
<DL>
<DT><U>User Option:</U> <B>ess-indent-level</B>
<DD><A NAME="IDX251"></A>
Default: 2 <BR>
Extra indentation of <B>S</B> statement sub-block with respect to enclosing
braces.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-brace-imaginary-offset</B>
<DD><A NAME="IDX252"></A>
Default: 0 <BR>
Extra indentation (over sub-block indentation) for block following an
open brace which follows on the same line as a statement.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-brace-offset</B>
<DD><A NAME="IDX253"></A>
Default: 0 <BR>
Extra indentation for braces, compared with other text in same context.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-continued-statement-offset</B>
<DD><A NAME="IDX254"></A>
Default: 0 <BR>
Extra indent for lines not starting new statements.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-continued-brace-offset</B>
<DD><A NAME="IDX255"></A>
Default: 0 <BR>
Extra indent for substatements that start with open-braces.
This is in addition to <CODE>ess-continued-statement-offset</CODE>.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-arg-function-offset</B>
<DD><A NAME="IDX256"></A>
Default: 2 <BR>
Extra indent for arguments of function <CODE>foo</CODE> when it is called as
the value of an argument to another function in
<CODE>arg=foo(...)</CODE> form.  If not number, the statements are indented at
open-parenthesis following <CODE>foo</CODE>.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-expression-offset</B>
<DD><A NAME="IDX257"></A>
Default: 4 <BR>
Extra indent for internal substatements of the call to
<CODE>expression()</CODE> specified in
<A NAME="IDX258"></A>

<PRE>
<CODE>obj &#60;- expression(...)</CODE>
</PRE>

<P>
form.  If not a number, the statements are indented at open-parenthesis
following <SAMP>`expression'</SAMP>.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-else-offset</B>
<DD><A NAME="IDX259"></A>
Default: 2 <BR>
Extra indentation of the <CODE>else</CODE> clause with respect to the
corresponding <CODE>if</CODE>.
</DL>


<P>
In addition, a number of default styles are defined for you (in
<CODE>ess-style-alist</CODE>):
<A NAME="IDX260"></A>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-default-style</B>
<DD><A NAME="IDX261"></A>
Default: <CODE>DEFAULT</CODE> <BR>
The default formatting style to use in edit buffers.  The DEFAULT style
uses the values of the above indentation variables at load-time, so that
changing these variables in your <TT>`.emacs'</TT> file will affect your
buffer defaults.  Other styles are:
<CODE>GNU</CODE>, <CODE>BSD</CODE>, <CODE>K&#38;R</CODE>, <CODE>CLB</CODE>, and <CODE>C++</CODE>.
See <TT>`ess-cust.el'</TT> for the complete definitions of the styles.
See section <A HREF="ess_7.html#SEC50">Creating or modifying <B>S</B> objects</A>, for more details.
</DL>




<H3><A NAME="SEC77" HREF="ess_toc.html#TOC77">Variables controlling interaction with the <B>ESS</B> process</A></H3>

<P>
<DL>
<DT><U>User Option:</U> <B>comint-input-ring-size</B>
<DD><A NAME="IDX262"></A>
Default: 50 <BR>
Number of commands to store in the command history.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-execute-in-process-buffer</B>
<DD><A NAME="IDX263"></A>
Default: <CODE>nil</CODE> <BR>
If this is <CODE>nil</CODE>, then the <CODE>ess-execute-</CODE> commands (see section <A HREF="ess_6.html#SEC48">Other commands provided by inferior-ESS</A>)
output to a temporary buffer.  Otherwise, the
output goes to the <B>ESS</B> process.
</DL>


<P>
<DL>
<DT><U>User Option:</U> <B>ess-eval-visibly-p</B>
<DD><A NAME="IDX264"></A>
Default: <CODE>nil</CODE> <BR>
If non-<CODE>nil</CODE>, then the <CODE>ess-eval-</CODE> commands (see section <A HREF="ess_7.html#SEC50">Creating or modifying <B>S</B> objects</A>) echo the <B>S</B> commands in the process buffer by default.  In any
case, passing a prefix argument to the eval command reverses the meaning
of this variable.
</DL>




<H2><A NAME="SEC78" HREF="ess_toc.html#TOC78">Customizing ESS with hooks</A></H2>
<P>
<A NAME="IDX265"></A>


<P>
ESS provides the following hooks:


<P>
<DL>
<DT><U>Hook:</U> <B>ess-mode-hook</B>
<DD><A NAME="IDX266"></A>
Called every time <CODE>ESS</CODE> is run.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-mode-load-hook</B>
<DD><A NAME="IDX267"></A>
Called just after the file <TT>`ess.el'</TT> is loaded.  Useful for setting
up your keybindings, etc.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-pre-run-hook</B>
<DD><A NAME="IDX268"></A>
Called before the <B>ESS</B> process is started (e.g., with <KBD>M-x S</KBD>).
Good for setting up your directory.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-post-run-hook</B>
<DD><A NAME="IDX269"></A>
Called just after the <B>ESS</B> process starts up.  This can be used to
evaluate <B>ESS</B> code at the start of a session, with
<CODE>ess-eval-visibly</CODE>, say.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>inferior-ess-mode-hook</B>
<DD><A NAME="IDX270"></A>
For customizing inferior ess mode.  Called after inferior-ess-mode is
entered and variables have been initialized.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-help-mode-hook</B>
<DD><A NAME="IDX271"></A>
Called every time when entering ess-help-mode (i.e., an <B>ESS</B> help
buffer is generated).
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-send-input-hook</B>
<DD><A NAME="IDX272"></A>
Called just before line input is sent to the process.
</DL>


<P>
<DL>
<DT><U>Hook:</U> <B>ess-transcript-mode-hook</B>
<DD><A NAME="IDX273"></A>
For customizing ESS transcript mode.
</DL>




<H2><A NAME="SEC79" HREF="ess_toc.html#TOC79">Changing the default ESS keybindings</A></H2>

<P>
ESS provides a separate keymaps (keymap variables) for <B>ESS</B> process
buffers, edit buffers and for help buffers.  The key bindings in the
edit buffers further depend on the language and dialect in use.


<P>
<DL>
<DT><U>Keymap:</U> <B>inferior-ess-mode-map</B>
<DD><A NAME="IDX274"></A>
<A NAME="IDX275"></A>
Keymap used in the <B>ESS</B> process buffer.  The bindings from
<CODE>comint-mode-map</CODE> are automatically inherited.
</DL>


<P>
<DL>
<DT><U>Keymap:</U> <B>ess-mode-map</B>
<DD><A NAME="IDX276"></A>
Keymap used within edit (ess-mode) buffers.
</DL>


<P>
<DL>
<DT><U>Keymap:</U> <B>ess-eval-map</B>
<DD><A NAME="IDX277"></A>
Keymap used within edit buffers for sending ESS code to the running
process.
</DL>


<P>
<DL>
<DT><U>Keymap:</U> <B>ess-help-mode-map</B>
<DD><A NAME="IDX278"></A>
Keymap used within help buffers.  In addition, <CODE>ess-help-sec-map</CODE>
is the keymap for the <SAMP>`s'</SAMP> prefix key.  Keys defined in
<CODE>ess-help-sec-keys-alist</CODE> are automatically inserted into this
keymap
<A NAME="IDX279"></A>
when ESS is loaded.
</DL>


<P>
<DL>
<DT><U>Keymap:</U> <B>ess-transcript-mode-map</B>
<DD><A NAME="IDX280"></A>
Keymap used within ESS transcript buffers.
</DL>


<P><HR><P>
Go to the <A HREF="ess_1.html">first</A>, <A HREF="ess_11.html">previous</A>, <A HREF="ess_13.html">next</A>, <A HREF="ess_16.html">last</A> section, <A HREF="ess_toc.html">table of contents</A>.
</BODY>
</HTML>
