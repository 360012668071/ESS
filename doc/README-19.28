-*- text -*-

These are the changes we made in order to use ESS with SAS on a Digital
Alpha running Emacs 19.28.  After these changes we entered "make ESS".

 1. ess-site.el line 68-71
 file-truename isn't in 19.28.
 Comment out lines 68-69.
 Uncomment 70-71 and replace the pathname on line 71
 to the directory in which ESS resides on your system.

 2. ess-site.el add new lines 76--80

;;; necessary for emacs 19.28
(load-file (concat ess-lisp-directory "/extras.el"))
(load-file (concat ess-lisp-directory "/easymenu.el"))
(require 'cl)  ; emacs 19.28 doesn't automatically have rassoc
;;; necessary for emacs 19.28


 3. where extras.el is the add-to-list function from somewhere in 'cl

 (defun add-to-list (list-var element)
   "Add to the value of LIST-VAR the element ELEMENT if it isn't there yet.
 If you want to use `add-to-list' on a variable that is not defined
 until a certain package is loaded, you should put the call to `add-to-list'
 into a hook function that will be run only after loading the package.
 `eval-after-load' provides one way to do this.  In some cases
 other hooks, such as major mode hooks, can do the job."
   (or (member element (symbol-value list-var))
       (set list-var (cons element (symbol-value list-var)))))


 4. where easymenu.el is copied from emacs 19.29


 5. Makefile
line 53
PRELOADS =  -l extras.el -l ./ess-comp.el

line 68
SOURCES = easymenu.el extras.el ess-vars.el ess.el ess-site.el \

line 99
##DOCDISTFILES = $(addprefix $(VERSIONDIR)/,$(DOCDIST)) #comment out for 19.28


 6. ess.el
 comment out line 127
 ;;;(require 'font-lock)   ;;; doesn't work with emacs 19.28
